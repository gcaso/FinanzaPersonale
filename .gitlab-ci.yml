# .gitlab-ci.yml
pages:
  stage: deploy
  image: busybox
  
  # ISTRUZIONE CHIAVE: Permette al job di girare su repo privati
  # e rende gli artifact (i file pubblicati) pubblici.
  # Questi due parametri sono fondamentali per l'hosting privato.
  allow_failure: false 
  
  script:
    - mkdir .public
    - cp -R * .public
    - mv .public public
  
  artifacts:
    paths:
      - public
    # ISTRUZIONE CHIAVE: Rende i file di Pages pubblici anche se il repo Ã¨ privato
    public: true 
    
  only:
    - main 
    # Oppure - master, a seconda del nome del tuo branch principale
